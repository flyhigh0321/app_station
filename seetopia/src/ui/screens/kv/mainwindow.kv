#:include  src/ui/widgets/kv/toptoolbar.kv
#:include  src/ui/widgets/kv/logo.kv
#:import col   ui.config.colors
<MainWindow>:
    name: "login"
    MDBoxLayout:
        orientation: "vertical"
        TopToolBar:
            title: "SKUtopia"
            height: "50dp" 
            left_action_items: [["menu", lambda x: app.rail_open()]]
        MDBoxLayout:
                     
            MDBoxLayout:
                Image:
                    id: vid
                    allow_stretch: True  
                    keep_ratio: True 
                MDBoxLayout:
                    id: main_screen
                    orientation: 'vertical'
                    MDCard:
                        orientation: 'vertical'  
                        elevation: 20   
                        padding: "8dp"
                        MDCard:
                            pos_hint:{"center_x": 0.5, "center_y":0.5}
                            orientation: 'vertical'
                            Widget:
                                size_hint_y: 0.2
                            Logo:
                                id: skutopia_logo
                            Widget:
                                size_hint_y: 0.1
                            MDTextField:
                                id: username
                                size_hint_x: .6
                                hint_text: "Enter your name"
                                mode: "fill"
                                fill_color: 0, 0, 0, .05
                                radius: [5,5,0,0] #ask pat
                                pos_hint: {"center_x": .5, "center_y": .5}
                                color_mode: 'custom'
                                line_color_focus: 0, 0, 0, 1
                                on_text_validate: app.login_keydown() 
                            Widget:
                                size_hint_y: 0.1
                            MDRaisedButton:
                                text: "Start"
                                font_size: 15
                                ripple_scale: .5
                                pos_hint: {"center_x":0.5}
                                md_bg_color: app.theme_cls.primary_light
                                hint_animation: True
                                on_press: 
                                    app.user_authenticate()
                                on_release:
                                    root.manager.transition.direction = "left"     
                            Widget:
                                size_hint_y: 0.5